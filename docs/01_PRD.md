# Product Requirements Document (PRD)

## 1. 目的と背景
枚方市介護支援専門員連絡協議会では、会員情報の管理や研修の案内・受付をアナログ（紙、郵送、FAX）で行っており、事務局の業務負荷が高い状態にあった。
本システムは、これらの業務をデジタル化・ペーパーレス化し、会員の利便性向上と事務局の業務効率化を実現する。

## 2. ターゲットユーザーと権限
システムは大きく分けて2つの権限（ロール）が存在する。

### 2.1 事務局（ADMIN）
- **役割**: 協議会の運営スタッフ。
- **機能要件**:
  - 全会員のデータ閲覧・検索・編集。
  - 研修の作成、申込状況の確認。
  - ダッシュボードでの統計情報（会員数、会費納入率など）の確認。
  - AIを用いた会員向け案内メールの文面生成。

### 2.2 会員（MEMBER）
会員には「個人会員」と「事業所会員」の2種類が存在し、システム上の振る舞いが異なる。

#### A. 個人会員 (INDIVIDUAL)
- ケアマネジャー個人として登録している会員。
- 自身のプロフィール情報の更新、研修への申込を行う。
- 連絡手段として「メール」または「郵送」を選択可能。

#### B. 事業所会員 (BUSINESS)
- 介護事業所として登録している会員。
- 1つの事業所アカウントの下に、複数の「職員（Staff）」が紐づく。
- 研修の申込は「事業所」としてではなく、「職員ごと」に行う。
- 郵送物は事業所宛に一括送付され、メールは各職員へ個別に配信される。

## 3. コアユースケース
1. **会員情報の自己更新**: 会員が引っ越しや転職をした際、システム上から自身で情報を更新できる。
2. **研修のワンクリック申込**: 案内された研修に対し、システム上からボタン一つで申込が完了する。
3. **会費納入状況の可視化**: 自身の年会費が納入済みか未納かをマイページで確認できる。
4. **ペーパーレス移行の促進**: 郵送からメールへの切り替えをUI上で推奨し、通信費を削減する。

## 4. システム要件・制約事項（プラットフォーム）
本システムは、NPO法人等の非営利団体向けに提供される **Google Workspace for Nonprofits (GWNP)** の標準機能を最大限に活用し、**追加のランニングコスト（レンタルサーバー代やクラウドDB利用料等）をゼロに抑える** ことを絶対条件とする。

- **インフラ/ホスティング**: 外部のレンタルサーバーは使用せず、Google Apps Script (GAS) のWebアプリ機能（HTML Service）を利用してフロントエンドを配信する。
- **データベース**: Google スプレッドシートをデータベースとして利用する。
- **バックエンド**: GASをAPIサーバーとして利用し、スプレッドシートの読み書きを行う。
- **メール配信**: GWNPのGmailインフラ（GASの `GmailApp`）を利用し、高い送信上限枠を活用して一斉送信や自動通知を行う。
- **認証**: Googleログイン、またはGAS経由でのマジックリンク/パスワード認証を実装し、セキュアなアクセスを担保する。
- **開発仕様の絶対ルール**: Google AI Studio と本プロジェクトの開発構成を常に同期し、**Google AI Studio の Build Preview でモックアップが表示できる状態を維持すること**（`build:preview` と `VITE_USE_MOCK=true` を前提運用とする）。
